'20/07/16 [SQL 테스트01] 담당: 김희숙

파일명: 번호_이름 해당 부분 본인 이름으로 작성하세요
(예. Test01-답안-번호-이름-200716.txt)

다음에 본인 이름 작성하세요
학년 (     ) 번호 (                 ) 이름 (                  ) 제출일 (            )

다음 아래 (   ) 해당 부분에 답안을 작성하시오
=====================================================================================
[Test 01-01] 데이터베이스 용어

1-1. 어느 웹사이트에서 회원 가입시 반드시 입력 받는 로그인 아이디(mem-id)는 중복 허용되지 않는다고 한다.
  mem-id 컬럼을 정의할 때 데이터 무결성 측면에서 필요한 제약조건으로 가장 올바른 것은? 

답안 (    )

1) UNIQUE                                  2) NOT NULL 
3) UNIQUE와 NOT NULL                     4) UNIQUE 와 IS NULL
 
1-2. 외래키에 대한 설명으로 적절하지 않은 것을 모두 고르시오 

답안 (       )

1) 테이블 생성시 설정할 수 있다
2) 외래키 값은 널 값을 가질 수 없다
3) 한 테이블에 하나만 존재해야 한다
4) 외래키 값은 참조무결성 제약을 받을 수 있다
 
1-3. 애트리뷰트 집합, A={A1, A2, A3, A4} 로 구성된 릴레이션 R(A1, A2, A3, A4) 에서 
후보키(candidate)가 3개라면, 
대체키(alternate key) 의 개수는? 

답안 (       )

1) 3개           2) 2개            3) 1개           4) 0개
 
1-4. 관계 데이터 모델(Relational data model)은 외적으로는 
단순한 테이블(Table) 형태의 구조로 모든 데이터를 표현하지만 
이론적으로는 수학적인 릴레이션(Relation)을 기초로 하고 있다. 
이러한 관계 데이터 모델에 대한 설명 중 가장 적절하지 않은 것은? 

답안 (       )

1) 릴레이션 R은 릴레이션 스키마(Schema)와 릴레이션 인스턴스(Instance)로 구성된다.
2) 기본 키(Primary Key)에 속해 있는 애트리뷰트(Attribute)는 언제 어느 때나 널(Null) 값을 가질 수 없다는 것을 개체 무결성(Entity integrity) 제약이라 한다.
3) 릴레이션은 참조할 수 없는 외래 키(Foreign Key) 값을 가져서는 안 된다는 것을 참조 무결성(Referential integriy) 제약이라 한다.
4) 릴레이션 R의 정의에서 보면 릴레이션에 포함되어 있는 투플(Tuple)의 수를 그 릴레이션의 차수(Degree)라 한다.
-------------------------------------------------------------------------------------
[Test01-02] SQL
다음에 대하여 답하시오

2-1. 다음 쿼리문을 실행했을 때 투플의 개수는? 답안 (       )
Dept는 학과 컬럼이다. 기계과, 전산과, 전자과에 학생 20명씩 재학 중이다. 
다음 쿼리문을 실행했을 때 튜플의 개수는?

select distinct dept from student

답안 (       )

2-2. 다음 중 데이터베이스 뷰(View)에 대한 설명으로 가장 적절하지 않은 것은? 

답안 (       )

① 사용자의 질의를 간단하게 할 수 있다.
② 데이터의 일부를 사용자로부터 감추어 보안 기능을 할 수 있다.
③ 데이터가 물리적으로 저장된다
④ 테이블을 삭제하면 뷰도 삭제된다

2-3. 다음 ‘학생’ 릴레이션(Relation)에 대한 것이다   

답안 (       )
 
소속학과가 ‘정보통신’이고 ‘4’학년인 학생의 이름, 학년을 검색한 후, 
결과 투플로 이루어지는 뷰 ‘VIC4’ 를 생성하였다. 
그리고 아래 UDDATE문을 수행한 후, SELECT문을 수행한 결과는 무엇인가?
(단, 뷰 ‘VIC4’ 에는 WITH CHECK OPTION이 포함되어 있고, 
애트리뷰트(Attribute) 이름은 ‘학생’ 릴레이션과 동일하게 부여하며, 
자료형태는 모두 CHAR(10)이라고 가정한다)

UPDATE       VIC4
SET 소속학과 =  ‘전기’
WHERE 이름 =  ‘이화성’;

SELECT    *
FROM      VIC4;

① <이화성, 4>                      ② <김연희, 4>
③ <이화성, 4>, <박민숙, 3>          ④ <이화성, 4>, <김연희, 4>
⑤ <이화성, 4>, <박민숙, 3>, <김연희, 4>

2-4. 다음과 같은 문장으로 ‘학생’ 테이블을 생성한 후, 유효한 투플(Tuple)들을 삽입하였다.
create table 학생 (학번 char(8) primary key, 장학금 integer);

아래 두 SQL문장을 성공적으로 실행한 후 SQL 1, SQL 2 문장의 실행결과로 가장 적절한 것은?

답안 (       )

SQL 1:   select count(학번) from 학생 where 장학금 >= 5000 or 장학금 < 5000;
SQL 2:   select count(학번) from 학생;

① SQL 1, SQL 2 문장의 실행 결과는 항상 같다.
② SQL 1, SQL 2 문장의 실행 결과는 항상 다르다.
③ SQL 1, SQL 2 문장의 실행 결과는 다를 수 있으며, 
그 이유는 장학금 속성(Attribute)에 널(Null)값이 존재할 수 있기 때문이다.
④ SQL 1, SQL 2 문장의 실행 결과는 다를 수 있으며, 
그 이유는 학번 속성(Attribute)에 널(Null)값이 존재할 수 있기 때문이다.


2-5. 다음 중 내부조인이 아닌 것은? 

답안 (       )

   ① 동등 조인         ② 자연 조인
   ③ 교차 조인         ④ 왼쪽 외부 조인

2-6. 다음 SQL 검색문의 의미로 가장 적절한 것은? 

답안 (       )

SELECT DISTINCT 학과명 FROM 학생;

  ① 학생 테이블의 학과명을 모두 검색하라. 
  ② 학생 테이블의 학과명을 중복되지 않게 모두 검색하라. 
  ③ 학과 테이블의 학과명 중에서 중복된 학과명을 모두 검색하라. 
  ④ 학생 테이블을 학과명 구별하지 말고 모두 검색하라.


2-7. SQL문법에서 권한 부여하는 문법은 무엇인가? 

답안 (                 )


2-8. Oracle 문법에서 사용자 생성하는 SQL 문법을 작성하시오


(사용자명 test
 암호  1234
 사용할 테이블스페이스이름 users)





-------------------------------------------------------------------------------------
[Test01-03] SQL  (사용자 test/암호 1234/사용할 테이블스페이스이름 users)

다음을 Oracle 을 사용하여 실습하고 
실행결과를 화면캡처 또는 실행결과 마우스 복사하여 작성하시오
(book_orders.sql)

-- 질의1-1) '축구의 역사' 라는 도서의 출판사와 가격을 검색하라

-- 질의1-2) 김연아 고객의 전화번호를 검색하라

-- 질의1-3) 10,000 이상인 도서의 이름과 출판사를 검색하라

-- 질의2-1) 모든 도서의 이름과 가격을 검색하라

-- 질의2-2) 모든 도서의 도서번호, 도서이름, 출판사, 가격을 검색하라

-- 질의2-3) 도서 테이블에 있는 모든 출판사를 검색하라

--(중복제거) 도서 테이블에 있는 모든 출판사를 검색하라

-- 질의2-4) 가격이 20,000 원 미만인 도서를 검색하라

--질의2-5) 가격이 10,000 원 이상 20,000 원 이하인 도서를 검색하라
--(BETWEEN .. AND 사용)

--질의2-5) 가격이 10,000 원 이상 20,000 원 이하인 도서를 검색하라
--(부등호 사용)

-- 질의2-6) 출판사가 '굿스포츠' 혹은 '대한미디어' 인 도서를 검색하라
-- (IN 사용)

--질의2-7) --출판사가 '굿스포츠' 혹은 '대한미디어' 가 아닌 도서를 검색하라
--(NOT IN 사용)

--(패턴문자, 와일드카드)
-- 질의3-1) '축구의 역사' 를 출간한 도서명, 출판사를 검색하라

-- 질의3-2) 도서이름에 '축구' 가 포함된 도서명, 출판사를 검색하라

-- 질의3-3) 도서이름 왼쪽 두번째 위치에 '구' 라는 문자열을 갖는 도서를 검색하라

-- 질의3-4) 축구에 관한 도서 중 가격이 20,000 이상인 도서를 검색하라

--(정렬)
-- 질의4-1) 도서를 이름순으로 검색하라

-- 질의4-2) 도서를 가격순으로 검색하고, 가격이 같으면 이름순으로 검색하라

-- 질의4-3) 도서를 가격의 내림차순으로 검색하고, 가격이 같으면 출판사의 오름차순으로 검색하라

--(집계함수/GROUP BY)
-- 질의5-1) 주문도서의 총 판매액을 검색하라

-- 질의5-2) 2번 김연아 고객이 주문한 도서의 총 판매액을 검색하라

-- 질의5-3) 주문도서의 총 판매액, 평균값, 최저가, 최고가를 검색하라

-- 질의5-4) 도서별 판매 건수를 검색하라

-- 질의5-5) 고객별로 주문한 도서의 총 수량과 총 판매액을 검색하라

-- 질의5-6) 가격이 8,000 원 이상인 도서를 구매한 고객에 대하여
-- 고객별 주문 도서의 총 수량을 검색하라.  단, 두 권 이상 구매한 고객만 구한다
--(조인)
-- 질의6-1) 고객과 고객의 주문에 관한 데이터를 모두 검색하라

-- 질의6-2) 고객과 고객의 주문에 관한 데이터를 고객별로 정렬하여 검색하라

-- 질의6-3) 고객의 이름과 고객이 주문한 도서의 가격을 검색하라

-- 질의6-4) 고객이름별로 주문한 모든 도서의 총 판매액을 구하고, 고객별로 정렬하라

--(3개 테이블 조인)
-- 질의7-1) 고객의 이름과 고객이 주문한 도서의 이름을 검색하라

-- 질의7-2) 가격이 20,000 원인 도서를 주문한 고객의 이름과 도서의 이름을 검색하라

--(외부조인)
--질의8-1) 도서를 구매하지 않은 고객을 포함하여 고객의 이름과 주문한 가격을 검색하라

--(부질의 : sub query)
--질의9-1) 가장 비싼 도서이름을 검색하라

--(수정/삭제)
--Customer(custid, name, address, phone)
--질의10-1) Customer 테이블에서 고객번호가 5인 고객의 주소를 '대한민국 부산'으로 수정하라
            수정한 이후 결과를 조회하시오

--질의10-2) Customer 테이블에서 박세리 고객의 주소를 김연아 고객의 주소로 수정하라
수정한 이후 결과를 조회하시오

--질의11-1) Customer 테이블에서 고객번호가 5인 고객을 삭제하라
삭제한 이후 결과를 조회하시오
-------------------------------------------------------------------------------------
